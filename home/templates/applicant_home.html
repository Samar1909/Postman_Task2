{{template "header.html" .}}

{{template "applicant_menu.html" .}}

<div class="container mt-5">
    <h1 class="border-bottom mb-4">Welcome {{.user.Username}}</h1>

    <div class="row row-cols-1 row-cols-md-2 g-4">
        <div class="col-md-7">
            <div class="card shadow-lg rounded-lg p-4 mb-4">
                <h2 class="card-title fw-bold text-primary border-bottom pb-3 mb-4">Your Profile</h2>

                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-person-circle me-2"></i> Username:</strong>
                    <span class="ms-2">{{.user.Username}}</span>
                </div>

                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-envelope me-2"></i> Email:</strong>
                    <p class="ms-2">{{.user.Email}}</p>
                </div>

                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-person-fill me-2"></i> First Name:</strong>
                    <span class="ms-2">{{.userProfile.FirstName.String}}</span>
                </div>

                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-person-fill me-2"></i> Last Name:</strong>
                    <span class="ms-2">{{.userProfile.LastName.String}}</span>
                </div>

                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-mortarboard-fill me-2"></i> School:</strong>
                    <p class="ms-2">{{.userProfile.School.String}}</p>
                </div>

                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-building me-2"></i> College:</strong>
                    <span class="ms-2">{{.userProfile.College.String}}</span>
                </div>
                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-hourglass-split me-2"></i> Age:</strong>
                    <span class="ms-2">{{.userProfile.Age}}</span>
                </div>
                <div class="mb-3">
                    <strong class="text-secondary"><i class="bi bi-star-fill me-2"></i> Your Skills:</strong>
                    {{if .userSKills}}
                    <div class="ms-2">
                        {{range .userSKills}}
                        <span class="badge bg-success me-1">{{.Name.String}}</span>
                        {{end}}
                    </div>
                    {{else}}
                    <span class="ms-2 text-muted">None</span>
                    {{end}}
                </div>

                <div class="mt-4">
                    <a href="/applicant/updateProfile/" class="btn btn-primary rounded-pill px-4 py-2"><i class="bi bi-pencil me-2"></i> Update Profile</a>
                </div>

            </div>
        </div>
        <div class="col-md-5">
            <div class="card shadow-lg rounded-lg p-4 mb-4">
                <h2 class="card-title fw-bold text-info border-bottom pb-3 mb-4"><i class="bi bi-list-check me-2"></i> Your Applied Jobs</h2>
                {{if .userAppliedjobs}}
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Job Title</th>
                                <th scope="col">Company</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{range .userAppliedjobs}}
                            <tr>
                                <td><a href="/applicant/jobPostings/{{.PostingID}}" class="text-decoration-none">{{.JobTitle.String}}</a></td>
                                <td>{{.CompanyName.String}}</td>
                            </tr>
                            {{end}}
                        </tbody>
                    </table>
                </div>
                {{else}}
                <p class="text-muted">You haven't applied for any jobs yet.</p>
                {{end}}
            </div>
        </div>
    </div>
</div>

{{template "footer.html" .}}